@using PLD.Models
@model MatrizRiesgoModels

@if (Model.ListaMatriz != null)
{
        if (Model.ListaMatriz.Count == 0)
        {
            <div class="widget-box">
                <div class="widget-title">
                    <span class="icon">
                        <i class="icon-info-sign"></i>
                    </span>
                    <h5>Busqueda de Matriz</h5>
                </div>
                <div class="widget-content nopadding">
                    <form class="form-horizontal"
                          method="post"
                          UpdateTargetId="idMatriz"
                          id="IdConsulta">
                        <table class="table table-bordered table-striped" id="IdTablaMatriz">
                            <thead>
                            </thead>
                            <tbody>
                                <tr class="odd gradeX">
                                    <th>
                                        <div class="control-group">
                                            <label class="control-label">Id Solicitud:</label>
                                            <div class="controls">
                                                <input type="text" name="IdSolicitud" id="IdSolicitud" class="span9" placeholder="Introduce Solicitud" />
                                            </div>
                                            <label class="control-label">Rfc:</label>
                                            <div class="controls">
                                                <input type="text" name="Rfc" id="Rfc" class="span9" placeholder="Introduce RFC" />
                                            </div>
                                        </div>
                                    </th>
                                    <th>
                                        <div class="control-group">
                                            <label class="control-label">Fecha Inicio:</label>
                                            <div class="controls">
                                                <div data-date="01-01-1900" class="input-append date datepicker">
                                                    <input type="text" value="01-01-1900" data-date-format="mm-dd-yyyy" id="FechaInicio" name="FechaInicio" class="span12" />
                                                    <span class="add-on"><i class="icon-th"></i></span>
                                                </div>
                                            </div>
                                            <label class="control-label">Fecha Fin:</label>
                                            <div class="controls">
                                                <div data-date="01-01-1900" class="input-append date datepicker">
                                                    <input type="text" value="01-01-1900" data-date-format="mm-dd-yyyy" id="FechaFin" name="FechaFin" class="span12" />
                                                    <span class="add-on"><i class="icon-th"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </th>
                                </tr>
                            </tbody>
                        </table>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-danger" title="Search">
                                <i class="icon-search"></i> Buscar
                            </button>
                        </div>

                    </form>
                </div>
            </div>
        }
}

        <script>
        $(function () {
            $("#IdConsulta").on("submit", function (e) {
                e.preventDefault();
                var f = $(this);
                var formData = new FormData(document.getElementById("IdConsulta"));
                formData.append("dato", "valor");
                 var url = "@Url.Action("ConsultaMatriz", "Operaciones")";
                $.ajax({
                    url: url,
                    type: "post",
                    dataType: "multipart/form-data",
                    data: formData,
                    cache: false,
                    contentType: false,
                    processData: false

                })
                    .complete(function (formData) {
                        if (formData.success) {
                            $("#idMatriz").html(formData.responseText);
                        }
                        else {
                            console.log("entro 2");
                        }
                    })
                    .fail(function () {
                         console.log("entro 3");
                    })

            });
        });

        </script>


